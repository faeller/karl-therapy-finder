@import url('https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&display=swap');
@import 'tailwindcss';

/* theme variables */
@theme {
	--color-paper: #faf9f7;
	--color-pencil: #2d2a26;
	--color-erased: #ffffff;
	--color-card-border: rgba(45, 42, 38, 0.1);
	--color-red-marker: #e85d4c;
	--color-blue-pen: #4a7c9b;
	--color-postit: #f0f7f4;
	--color-secondary: #6b6560;
	--color-lines: rgba(45, 42, 38, 0.04);
	--font-heading: 'Avenir Next', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	--font-body: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', Roboto, sans-serif;
	--font-brand: 'Kalam', cursive;
	--shadow-hard: 0 2px 12px rgba(45, 42, 38, 0.08);
	--shadow-hard-sm: 0 1px 4px rgba(45, 42, 38, 0.06);
	--shadow-hard-lg: 0 8px 24px rgba(45, 42, 38, 0.1);
	--shadow-hard-subtle: 0 0.5px 1px rgba(45, 42, 38, 0.05);
}

/* ========================================
   modern style (default) - light mode
   warmer, friendlier take on clean design
   ======================================== */
:root, :root.theme-modern {
	--color-paper: #faf9f7;
	--color-pencil: #2d2a26;
	--color-erased: #ffffff;
	--color-card-border: rgba(45, 42, 38, 0.1);
	--color-red-marker: #e85d4c;
	--color-blue-pen: #4a7c9b;
	--color-postit: #f0f7f4;
	--color-secondary: #6b6560;
	--color-lines: rgba(45, 42, 38, 0.04);
	--font-heading: 'Avenir Next', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	--font-body: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', Roboto, sans-serif;
	--shadow-hard: 0 2px 12px rgba(45, 42, 38, 0.08);
	--shadow-hard-sm: 0 1px 4px rgba(45, 42, 38, 0.06);
	--shadow-hard-lg: 0 8px 24px rgba(45, 42, 38, 0.1);
	--shadow-hard-subtle: 0 0.5px 1px rgba(45, 42, 38, 0.05);
	--radius-sm: 8px;
	--radius-md: 12px;
	--radius-lg: 16px;
	--radius-button: 12px;
	--radius-bubble: 16px;
}

/* modern - dark mode */
:root.dark, :root.dark.theme-modern {
	--color-paper: #000000;
	--color-pencil: #f5f5f7;
	--color-erased: #1c1c1e;
	--color-card-border: rgba(255, 255, 255, 0.15);
	--color-postit: #1c3545;
	--color-secondary: #a1a1a6;
	--color-lines: rgba(255, 255, 255, 0.03);
	--shadow-hard: 0 2px 12px rgba(0, 0, 0, 0.5);
	--shadow-hard-sm: 0 1px 4px rgba(0, 0, 0, 0.4);
	--shadow-hard-lg: 0 8px 24px rgba(0, 0, 0, 0.6);
	--shadow-hard-subtle: 0 0.5px 1px rgba(0, 0, 0, 0.3);
}

/* ========================================
   apfel style - light mode
   ultra professional iOS/Apple aesthetic
   ======================================== */
:root.theme-apfel {
	--color-paper: #f2f2f7;
	--color-pencil: #1d1d1f;
	--color-erased: #ffffff;
	--color-card-border: rgba(0, 0, 0, 0.08);
	--color-red-marker: #ff3b30;
	--color-blue-pen: #007aff;
	--color-postit: #e8f4fd;
	--color-secondary: #6e6e73;
	--color-lines: rgba(0, 0, 0, 0.04);
	--font-heading: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
	--font-body: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Segoe UI', Roboto, sans-serif;
	--shadow-hard: 0 2px 12px rgba(0, 0, 0, 0.08);
	--shadow-hard-sm: 0 1px 4px rgba(0, 0, 0, 0.06);
	--shadow-hard-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
	--shadow-hard-subtle: 0 0.5px 1px rgba(0, 0, 0, 0.05);
	--radius-sm: 8px;
	--radius-md: 12px;
	--radius-lg: 16px;
	--radius-button: 22px;
	--radius-bubble: 18px;
}

/* apfel - dark mode */
:root.dark.theme-apfel {
	--color-paper: #000000;
	--color-pencil: #f5f5f7;
	--color-erased: #1c1c1e;
	--color-card-border: rgba(255, 255, 255, 0.15);
	--color-postit: #1c3545;
	--color-secondary: #a1a1a6;
	--color-lines: rgba(255, 255, 255, 0.03);
	--shadow-hard: 0 2px 12px rgba(0, 0, 0, 0.5);
	--shadow-hard-sm: 0 1px 4px rgba(0, 0, 0, 0.4);
	--shadow-hard-lg: 0 8px 24px rgba(0, 0, 0, 0.6);
	--shadow-hard-subtle: 0 0.5px 1px rgba(0, 0, 0, 0.3);
}

/* ========================================
   handdrawn style - light mode
   toned down: mature font, softer shadows
   ======================================== */
:root.theme-handdrawn {
	--color-paper: #fdfbf7;
	--color-pencil: #3a3632;
	--color-erased: #f0ebe4;
	--color-card-border: rgba(58, 54, 50, 0.15);
	--color-red-marker: #d85a4a;
	--color-blue-pen: #4a739e;
	--color-postit: #fdf6e3;
	--color-secondary: #706b65;
	--color-lines: rgba(58, 54, 50, 0.06);
	--font-heading: 'Kalam', cursive;
	--font-body: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
	--shadow-hard: 3px 3px 0px 0px var(--color-pencil);
	--shadow-hard-sm: 2px 2px 0px 0px var(--color-pencil);
	--shadow-hard-lg: 5px 5px 0px 0px var(--color-pencil);
	--shadow-hard-subtle: 2px 2px 0px 0px rgba(58, 54, 50, 0.15);
	--radius-sm: 12px 4px 14px 4px / 4px 12px 4px 14px;
	--radius-md: 4px 14px 4px 12px / 12px 4px 14px 4px;
	--radius-lg: 14px 6px 16px 6px / 6px 14px 6px 16px;
	--radius-button: 12px 4px 14px 4px / 4px 12px 4px 14px;
	--radius-bubble: 8px 16px 8px 16px / 16px 8px 16px 8px;
	/* extra wobbly for cards, modals, post-its */
	--radius-wobbly: 255px 15px 225px 15px / 15px 225px 15px 255px;
	--radius-wobbly-alt: 15px 255px 15px 225px / 225px 15px 255px 15px;
}

/* handdrawn - dark mode (toned down) */
:root.dark.theme-handdrawn {
	--color-paper: #1e1c1a;
	--color-pencil: #e8e4de;
	--color-erased: #2a2826;
	--color-card-border: rgba(232, 228, 222, 0.15);
	--color-postit: #2e2a1f;
	--color-secondary: #a5a099;
	--color-lines: rgba(232, 228, 222, 0.05);
	--shadow-hard: 3px 3px 0px 0px var(--color-pencil);
	--shadow-hard-sm: 2px 2px 0px 0px var(--color-pencil);
	--shadow-hard-lg: 5px 5px 0px 0px var(--color-pencil);
	--shadow-hard-subtle: 2px 2px 0px 0px rgba(232, 228, 222, 0.1);
}

/* base styles */
html {
	font-size: 16px;
	font-family: var(--font-body);
	background-color: var(--color-paper);
	color: var(--color-pencil);
	scroll-behavior: smooth;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

@media (min-width: 768px) {
	html {
		font-size: 17px;
	}
}

body {
	min-height: 100vh;
	background:
		radial-gradient(ellipse at 0% 0%, rgba(0, 122, 255, 0.04) 0%, transparent 50%),
		radial-gradient(ellipse at 100% 100%, rgba(88, 86, 214, 0.04) 0%, transparent 50%),
		var(--color-paper);
}

:root.dark body {
	background:
		radial-gradient(ellipse at 0% 0%, rgba(0, 122, 255, 0.1) 0%, transparent 50%),
		radial-gradient(ellipse at 100% 100%, rgba(88, 86, 214, 0.08) 0%, transparent 50%),
		var(--color-paper);
}

/* modern body - warm gradient */
:root.theme-modern body {
	background:
		radial-gradient(ellipse at 0% 0%, rgba(74, 124, 155, 0.25) 0%, transparent 70%),
		radial-gradient(ellipse at 100% 100%, rgba(200, 140, 100, 0.2) 0%, transparent 70%),
		var(--color-paper);
}

:root.dark.theme-modern body {
	background:
		radial-gradient(ellipse at 0% 0%, rgba(74, 124, 155, 0.35) 0%, transparent 70%),
		radial-gradient(ellipse at 100% 100%, rgba(200, 140, 100, 0.25) 0%, transparent 70%),
		var(--color-paper);
}

/* handdrawn body - paper texture */
:root.theme-handdrawn body {
	background-image: radial-gradient(var(--color-erased) 1px, transparent 1px);
	background-size: 24px 24px;
	background-color: var(--color-paper);
}

/* heading font */
h1, h2, h3, h4, h5, h6 {
	font-family: var(--font-heading);
	font-weight: 600;
	letter-spacing: -0.02em;
}

/* remove default focus ring, add custom */
*:focus {
	outline: none;
}

*:focus-visible {
	outline: 2px solid var(--color-blue-pen);
	outline-offset: 2px;
}

/* selection color */
::selection {
	background-color: rgba(0, 122, 255, 0.3);
	color: inherit;
}

:root.theme-handdrawn ::selection {
	background-color: var(--color-red-marker);
	color: white;
}

/* scrollbar styling */
::-webkit-scrollbar {
	width: 6px;
	height: 6px;
}
::-webkit-scrollbar-track {
	background: transparent;
}
::-webkit-scrollbar-thumb {
	background: rgba(0, 0, 0, 0.2);
	border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
	background: rgba(0, 0, 0, 0.3);
}
:root.dark ::-webkit-scrollbar-thumb {
	background: rgba(255, 255, 255, 0.2);
}
:root.dark ::-webkit-scrollbar-thumb:hover {
	background: rgba(255, 255, 255, 0.3);
}

/* dark mode card backgrounds */
:root.dark .bg-white {
	background-color: #1c1c1e;
}

/* ========================================
   shared components - iMessage style
   ======================================== */

/* option buttons */
.option-btn {
	display: inline-flex;
	align-items: center;
	border: 1px solid var(--color-card-border);
	padding: 0.625rem 1.25rem;
	font-family: var(--font-body);
	font-size: 1rem;
	font-weight: 500;
	border-radius: 20px;
	background-color: var(--color-erased);
	color: var(--color-pencil);
	transition: all 100ms;
}

.option-btn:hover:not(:disabled):not(.selected) {
	background-color: var(--color-red-marker);
	border-color: var(--color-red-marker);
	color: white;
}

@media (min-width: 768px) {
	.option-btn {
		font-size: 1.0625rem;
	}
}

/* multi select - selected turns blue */
.option-btn.selected {
	background-color: var(--color-blue-pen);
	border-color: var(--color-blue-pen);
	color: white;
}

/* secondary style */
.option-btn.secondary {
	opacity: 0.7;
	background-color: transparent;
}

/* recommended highlight */
.option-btn.recommended {
	background-color: rgba(0, 122, 255, 0.1);
	border-color: rgba(0, 122, 255, 0.3);
}

/* disabled state */
.option-btn:disabled,
.option-btn.disabled {
	opacity: 0.4;
	cursor: not-allowed;
}

/* handdrawn style overrides for buttons */
:root.theme-handdrawn .option-btn {
	border: 2px solid var(--color-pencil);
	box-shadow: var(--shadow-hard-sm);
}

/* confetti animation */
@keyframes konfetti-fall {
	0% {
		opacity: 1;
		transform: translateY(0) translateX(0) rotate(0deg);
	}
	100% {
		opacity: 0;
		transform: translateY(100vh) translateX(var(--drift)) rotate(var(--spin));
	}
}

/* modal/dialog overlay */
.modal-overlay {
	position: fixed;
	inset: 0;
	background-color: rgba(0, 0, 0, 0.4);
	backdrop-filter: blur(4px);
	display: flex;
	align-items: center;
	justify-content: center;
	z-index: 100;
	padding: 1rem;
}

.modal-content {
	background-color: var(--color-erased);
	border: 1px solid var(--color-card-border);
	border-radius: 14px;
	padding: 1.5rem;
	max-width: 500px;
	width: 100%;
}

.modal-content.small {
	max-width: 400px;
}

/* modal text */
.modal-text {
	font-family: var(--font-body);
	font-size: 1rem;
	color: var(--color-pencil);
	margin-bottom: 1.5rem;
	line-height: 1.5;
}

/* modal button row */
.modal-buttons {
	display: flex;
	gap: 0.75rem;
}

.modal-btn {
	flex: 1;
	padding: 0.75rem 1rem;
	font-family: var(--font-body);
	font-size: 1rem;
	font-weight: 500;
	border: 1px solid var(--color-card-border);
	border-radius: 12px;
	background-color: var(--color-paper);
	color: var(--color-pencil);
	transition: all 100ms;
}

.modal-btn:hover {
	background-color: var(--color-erased);
}

.modal-btn.primary {
	background-color: var(--color-blue-pen);
	border-color: var(--color-blue-pen);
	color: white;
}

.modal-btn.primary:hover {
	background-color: var(--color-red-marker);
	border-color: var(--color-red-marker);
}

/* handdrawn modal overrides */
:root.theme-handdrawn .modal-content {
	background-color: var(--color-paper);
	border: 2px solid var(--color-pencil);
	border-radius: var(--radius-wobbly);
	box-shadow: var(--shadow-hard);
}

:root.theme-handdrawn .modal-btn {
	border: 2px solid var(--color-pencil);
	border-radius: var(--radius-button);
	box-shadow: var(--shadow-hard-sm);
}

:root.theme-handdrawn .modal-btn:hover {
	transform: translate(1px, 1px);
	box-shadow: 1px 1px 0px 0px var(--color-pencil);
}

/* prose styles for legal pages */
.prose a {
	color: var(--color-blue-pen);
	text-decoration: none;
	transition: opacity 150ms;
}

.prose a:hover {
	opacity: 0.7;
}

.prose h3 {
	padding-top: 0.5rem;
}
